(function e$$0(f,l,b){function d(c,e){if(!l[c]){if(!f[c]){var m="function"==typeof require&&require;if(!e&&m)return m(c,!0);if(a)return a(c,!0);m=Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m;}m=l[c]={exports:{}};f[c][0].call(m.exports,function(a){var b=f[c][1][a];return d(b?b:a)},m,m.exports,e$$0,f,l,b)}return l[c].exports}for(var a="function"==typeof require&&require,c=0;c<b.length;c++)d(b[c]);return d})({1:[function(k,f,l){function b(d){if(d){for(var a in b.prototype)d[a]=
b.prototype[a];return d}}"undefined"!==typeof f&&(f.exports=b);b.prototype.on=b.prototype.addEventListener=function(b,a){this._callbacks=this._callbacks||{};(this._callbacks["$"+b]=this._callbacks["$"+b]||[]).push(a);return this};b.prototype.once=function(b,a){function c(){this.off(b,c);a.apply(this,arguments)}c.fn=a;this.on(b,c);return this};b.prototype.off=b.prototype.removeListener=b.prototype.removeAllListeners=b.prototype.removeEventListener=function(b,a){this._callbacks=this._callbacks||{};
if(0==arguments.length)return this._callbacks={},this;var c=this._callbacks["$"+b];if(!c)return this;if(1==arguments.length)return delete this._callbacks["$"+b],this;for(var g,e=0;e<c.length;e++)if(g=c[e],g===a||g.fn===a){c.splice(e,1);break}return this};b.prototype.emit=function(b){this._callbacks=this._callbacks||{};var a=[].slice.call(arguments,1),c=this._callbacks["$"+b];if(c)for(var c=c.slice(0),g=0,e=c.length;g<e;++g)c[g].apply(this,a);return this};b.prototype.listeners=function(b){this._callbacks=
this._callbacks||{};return this._callbacks["$"+b]||[]};b.prototype.hasListeners=function(b){return!!this.listeners(b).length}},{}],2:[function(k,f,l){function b(a){var c=function(){if(c.called)return c.value;c.called=!0;return c.value=a.apply(this,arguments)};c.called=!1;return c}function d(a){var c=function(){if(c.called)throw Error(c.onceError);c.called=!0;return c.value=a.apply(this,arguments)};c.onceError=(a.name||"Function wrapped with `once`")+" shouldn't be called more than once";c.called=
!1;return c}k=k("wrappy");f.exports=k(b);f.exports.strict=k(d);b.proto=b(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return b(this)},configurable:!0});Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return d(this)},configurable:!0})})},{wrappy:10}],3:[function(k,f,l){function b(){}function d(n){if(!t(n))return n;var c=[],b;for(b in n)a(c,b,n[b]);return c.join("&")}function a(n,c,b){if(null!=b)if(Array.isArray(b))b.forEach(function(b){a(n,c,
b)});else if(t(b))for(var d in b)a(n,c+"["+d+"]",b[d]);else n.push(encodeURIComponent(c)+"="+encodeURIComponent(b));else null===b&&n.push(encodeURIComponent(c))}function c(a){var b={};a=a.split("&");for(var c,d,g=0,e=a.length;g<e;++g)c=a[g],d=c.indexOf("="),-1==d?b[decodeURIComponent(c)]="":b[decodeURIComponent(c.slice(0,d))]=decodeURIComponent(c.slice(d+1));return b}function g(a){this.req=a;this.xhr=this.req.xhr;this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||
"undefined"===typeof this.xhr.responseType?this.xhr.responseText:null;this.statusText=this.req.xhr.statusText;var c=this.xhr.status;1223===c&&(c=204);this._setStatusProperties(c);var c=this.xhr.getAllResponseHeaders().split(/\r?\n/),b={},d,g,e;c.pop();for(var h=0,q=c.length;h<q;++h)g=c[h],d=g.indexOf(":"),e=g.slice(0,d).toLowerCase(),d=x(g.slice(d+1)),b[e]=d;this.header=this.headers=b;this.header["content-type"]=this.xhr.getResponseHeader("content-type");this._setHeaderProperties(this.header);this.body=
null===this.text&&a._responseType?this.xhr.response:"HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function e(a,c){var b=this;this._query=this._query||[];this.method=a;this.url=c;this.header={};this._header={};this.on("end",function(){var a=null,c=null;try{c=new g(b)}catch(n){return a=Error("Parser is unable to parse the response"),a.parse=!0,a.original=n,b.xhr?(a.rawResponse="undefined"==typeof b.xhr.responseType?b.xhr.responseText:b.xhr.response,a.status=b.xhr.status?
b.xhr.status:null,a.statusCode=a.status):(a.rawResponse=null,a.status=null),b.callback(a)}b.emit("response",c);var r;try{b._isResponseOK(c)||(r=Error(c.statusText||"Unsuccessful HTTP response"),r.original=a,r.response=c,r.status=c.status)}catch(n){r=n}r?b.callback(r,c):b.callback(null,c)})}function m(a,c,b){a=h("DELETE",a);"function"==typeof c&&(b=c,c=null);c&&a.send(c);b&&a.end(b);return a}var p;"undefined"!==typeof window?p=window:"undefined"!==typeof self?p=self:(console.warn("Using browser-only version of superagent in non-browser environment"),
p=this);var u=k("component-emitter"),v=k("./request-base"),t=k("./is-object"),w=k("./is-function"),q=k("./response-base"),y=k("./should-retry"),h=l=f.exports=function(a,c){return"function"==typeof c?(new l.Request("GET",a)).end(c):1==arguments.length?new l.Request("GET",a):new l.Request(a,c)};l.Request=e;h.getXHR=function(){if(!p.XMLHttpRequest||p.location&&"file:"==p.location.protocol&&p.ActiveXObject){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){}}else return new XMLHttpRequest;
throw Error("Browser-only verison of superagent could not find XHR");};var x="".trim?function(a){return a.trim()}:function(a){return a.replace(/(^\s*|\s*$)/g,"")};h.serializeObject=d;h.parseString=c;h.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"};h.serialize={"application/x-www-form-urlencoded":d,"application/json":JSON.stringify};h.parse=
{"application/x-www-form-urlencoded":c,"application/json":JSON.parse};q(g.prototype);g.prototype._parseBody=function(a){var c=h.parse[this.type];if(this.req._parser)return this.req._parser(this,a);!c&&/[\/+]json\b/.test(this.type)&&(c=h.parse["application/json"]);return c&&a&&(a.length||a instanceof Object)?c(a):null};g.prototype.toError=function(){var a=this.req,c=a.method,a=a.url,b=Error("cannot "+c+" "+a+" ("+this.status+")");b.status=this.status;b.method=c;b.url=a;return b};h.Response=g;u(e.prototype);
v(e.prototype);e.prototype.type=function(a){this.set("Content-Type",h.types[a]||a);return this};e.prototype.accept=function(a){this.set("Accept",h.types[a]||a);return this};e.prototype.auth=function(a,c,b){"object"===typeof c&&null!==c&&(b=c);b||(b={type:"function"===typeof btoa?"basic":"auto"});switch(b.type){case "basic":this.set("Authorization","Basic "+btoa(a+":"+c));break;case "auto":this.username=a;this.password=c;break;case "bearer":this.set("Authorization","Bearer "+a)}return this};e.prototype.query=
function(a){"string"!=typeof a&&(a=d(a));a&&this._query.push(a);return this};e.prototype.attach=function(a,c,b){if(c){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(a,c,b||c.name)}return this};e.prototype._getFormData=function(){this._formData||(this._formData=new p.FormData);return this._formData};e.prototype.callback=function(a,c){if(this._maxRetries&&this._retries++<this._maxRetries&&y(a,c))return this._retry();var b=this._callback;this.clearTimeout();
a&&(this._maxRetries&&(a.retries=this._retries-1),this.emit("error",a));b(a,c)};e.prototype.crossDomainError=function(){var a=Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");a.crossDomain=!0;a.status=this.status;a.method=this.method;a.url=this.url;this.callback(a)};e.prototype.buffer=e.prototype.ca=e.prototype.agent=function(){console.warn("This is not supported in browser version of superagent");
return this};e.prototype.pipe=e.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent");};e.prototype._appendQueryString=function(){var a=this._query.join("&");a&&(this.url+=(0<=this.url.indexOf("?")?"&":"?")+a);if(this._sort&&(a=this.url.indexOf("?"),0<=a)){var c=this.url.substring(a+1).split("&");w(this._sort)?c.sort(this._sort):c.sort();this.url=this.url.substring(0,a)+"?"+c.join("&")}};e.prototype._isHost=function(a){return a&&"object"===typeof a&&
!Array.isArray(a)&&"[object Object]"!==Object.prototype.toString.call(a)};e.prototype.end=function(a){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent");this._endCalled=!0;this._callback=a||b;this._appendQueryString();return this._end()};e.prototype._end=function(){var a=this,c=this.xhr=h.getXHR(),b=this._formData||this._data;this._setTimeouts();c.onreadystatechange=function(){var b=c.readyState;2<=b&&a._responseTimeoutTimer&&clearTimeout(a._responseTimeoutTimer);
if(4==b){var d;try{d=c.status}catch(g){d=0}if(!d)return a.timedout||a._aborted?void 0:a.crossDomainError();a.emit("end")}};var d=function(c,b){0<b.total&&(b.percent=b.loaded/b.total*100);b.direction=c;a.emit("progress",b)};if(this.hasListeners("progress"))try{c.onprogress=d.bind(null,"download"),c.upload&&(c.upload.onprogress=d.bind(null,"upload"))}catch(g){}try{this.username&&this.password?c.open(this.method,this.url,!0,this.username,this.password):c.open(this.method,this.url,!0)}catch(g){return this.callback(g)}this._withCredentials&&
(c.withCredentials=!0);if(!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof b&&!this._isHost(b)){var d=this._header["content-type"],e=this._serializer||h.serialize[d?d.split(";")[0]:""];!e&&/[\/+]json\b/.test(d)&&(e=h.serialize["application/json"]);e&&(b=e(b))}for(var q in this.header)null!=this.header[q]&&this.header.hasOwnProperty(q)&&c.setRequestHeader(q,this.header[q]);this._responseType&&(c.responseType=this._responseType);this.emit("request",this);c.send("undefined"!==
typeof b?b:null);return this};h.get=function(a,c,b){a=h("GET",a);"function"==typeof c&&(b=c,c=null);c&&a.query(c);b&&a.end(b);return a};h.head=function(a,c,b){a=h("HEAD",a);"function"==typeof c&&(b=c,c=null);c&&a.send(c);b&&a.end(b);return a};h.options=function(a,c,b){a=h("OPTIONS",a);"function"==typeof c&&(b=c,c=null);c&&a.send(c);b&&a.end(b);return a};h.del=m;h["delete"]=m;h.patch=function(a,c,b){a=h("PATCH",a);"function"==typeof c&&(b=c,c=null);c&&a.send(c);b&&a.end(b);return a};h.post=function(a,
c,b){a=h("POST",a);"function"==typeof c&&(b=c,c=null);c&&a.send(c);b&&a.end(b);return a};h.put=function(a,c,b){a=h("PUT",a);"function"==typeof c&&(b=c,c=null);c&&a.send(c);b&&a.end(b);return a}},{"./is-function":4,"./is-object":5,"./request-base":6,"./response-base":7,"./should-retry":8,"component-emitter":1}],4:[function(k,f,l){var b=k("./is-object");f.exports=function(d){return"[object Function]"===(b(d)?Object.prototype.toString.call(d):"")}},{"./is-object":5}],5:[function(k,f,l){f.exports=function(b){return null!==
b&&"object"===typeof b}},{}],6:[function(k,f,l){function b(a){if(a){for(var c in b.prototype)a[c]=b.prototype[c];return a}}var d=k("./is-object");f.exports=b;b.prototype.clearTimeout=function(){clearTimeout(this._timer);clearTimeout(this._responseTimeoutTimer);delete this._timer;delete this._responseTimeoutTimer;return this};b.prototype.parse=function(a){this._parser=a;return this};b.prototype.responseType=function(a){this._responseType=a;return this};b.prototype.serialize=function(a){this._serializer=
a;return this};b.prototype.timeout=function(a){if(!a||"object"!==typeof a)return this._timeout=a,this._responseTimeout=0,this;for(var c in a)switch(c){case "deadline":this._timeout=a.deadline;break;case "response":this._responseTimeout=a.response;break;default:console.warn("Unknown timeout option",c)}return this};b.prototype.retry=function(a){if(0===arguments.length||!0===a)a=1;0>=a&&(a=0);this._maxRetries=a;this._retries=0;return this};b.prototype._retry=function(){this.clearTimeout();this.req&&
(this.req=null,this.req=this.request());this.timedout=this._aborted=!1;return this._end()};b.prototype.then=function(a,c){if(!this._fullfilledPromise){var b=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises");this._fullfilledPromise=new Promise(function(a,c){b.end(function(b,d){b?c(b):a(d)})})}return this._fullfilledPromise.then(a,c)};b.prototype.catch=function(a){return this.then(void 0,
a)};b.prototype.use=function(a){a(this);return this};b.prototype.ok=function(a){if("function"!==typeof a)throw Error("Callback required");this._okCallback=a;return this};b.prototype._isResponseOK=function(a){return a?this._okCallback?this._okCallback(a):200<=a.status&&300>a.status:!1};b.prototype.get=function(a){return this._header[a.toLowerCase()]};b.prototype.getHeader=b.prototype.get;b.prototype.set=function(a,c){if(d(a)){for(var b in a)this.set(b,a[b]);return this}this._header[a.toLowerCase()]=
c;this.header[a]=c;return this};b.prototype.unset=function(a){delete this._header[a.toLowerCase()];delete this.header[a];return this};b.prototype.field=function(a,c){if(null===a||void 0===a)throw Error(".field(name, val) name can not be empty");this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(d(a)){for(var b in a)this.field(b,a[b]);return this}if(Array.isArray(c)){for(var e in c)this.field(a,c[e]);return this}if(null===
c||void 0===c)throw Error(".field(name, val) val can not be empty");"boolean"===typeof c&&(c=""+c);this._getFormData().append(a,c);return this};b.prototype.abort=function(){if(this._aborted)return this;this._aborted=!0;this.xhr&&this.xhr.abort();this.req&&this.req.abort();this.clearTimeout();this.emit("abort");return this};b.prototype.withCredentials=function(a){void 0==a&&(a=!0);this._withCredentials=a;return this};b.prototype.redirects=function(a){this._maxRedirects=a;return this};b.prototype.toJSON=
function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}};b.prototype.send=function(a){var c=d(a),b=this._header["content-type"];this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(c&&!this._data)Array.isArray(a)?this._data=[]:this._isHost(a)||(this._data={});else if(a&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(c&&d(this._data))for(var e in a)this._data[e]=
a[e];else"string"==typeof a?(b||this.type("form"),b=this._header["content-type"],this._data="application/x-www-form-urlencoded"==b?this._data?this._data+"&"+a:a:(this._data||"")+a):this._data=a;if(!c||this._isHost(a))return this;b||this.type("json");return this};b.prototype.sortQuery=function(a){this._sort="undefined"===typeof a?!0:a;return this};b.prototype._timeoutError=function(a,c,b){this._aborted||(a=Error(a+c+"ms exceeded"),a.timeout=c,a.code="ECONNABORTED",a.errno=b,this.timedout=!0,this.abort(),
this.callback(a))};b.prototype._setTimeouts=function(){var a=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){a._timeoutError("Timeout of ",a._timeout,"ETIME")},this._timeout));this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){a._timeoutError("Response timeout of ",a._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},{"./is-object":5}],7:[function(k,f,l){function b(a){if(a){for(var c in b.prototype)a[c]=b.prototype[c];return a}}
var d=k("./utils");f.exports=b;b.prototype.get=function(a){return this.header[a.toLowerCase()]};b.prototype._setHeaderProperties=function(a){var c=a["content-type"]||"";this.type=d.type(c);var c=d.params(c),b;for(b in c)this[b]=c[b];this.links={};try{a.link&&(this.links=d.parseLinks(a.link))}catch(e){}};b.prototype._setStatusProperties=function(a){var c=a/100|0;this.status=this.statusCode=a;this.statusType=c;this.info=1==c;this.ok=2==c;this.redirect=3==c;this.clientError=4==c;this.serverError=5==
c;this.error=4==c||5==c?this.toError():!1;this.accepted=202==a;this.noContent=204==a;this.badRequest=400==a;this.unauthorized=401==a;this.notAcceptable=406==a;this.forbidden=403==a;this.notFound=404==a}},{"./utils":9}],8:[function(k,f,l){var b=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];f.exports=function(d,a){return d&&d.code&&~b.indexOf(d.code)||a&&a.status&&500<=a.status||d&&"timeout"in d&&"ECONNABORTED"==d.code||d&&"crossDomain"in d?!0:!1}},{}],9:[function(k,f,l){l.type=function(b){return b.split(/ *; */).shift()};
l.params=function(b){return b.split(/ *; */).reduce(function(b,a){var c=a.split(/ *= */),g=c.shift(),c=c.shift();g&&c&&(b[g]=c);return b},{})};l.parseLinks=function(b){return b.split(/ *, */).reduce(function(b,a){var c=a.split(/ *; */),g=c[0].slice(1,-1),c=c[1].split(/ *= */)[1].slice(1,-1);b[c]=g;return b},{})};l.cleanHeader=function(b,d){delete b["content-type"];delete b["content-length"];delete b["transfer-encoding"];delete b.host;d&&delete b.cookie;return b}},{}],10:[function(k,f,l){function b(d,
a){function c(){for(var a=Array(arguments.length),c=0;c<a.length;c++)a[c]=arguments[c];var b=d.apply(this,a),f=a[a.length-1];"function"===typeof b&&b!==f&&Object.keys(f).forEach(function(a){b[a]=f[a]});return b}if(d&&a)return b(d)(a);if("function"!==typeof d)throw new TypeError("need wrapper function");Object.keys(d).forEach(function(a){c[a]=d[a]});return c}f.exports=b},{}],11:[function(k,f,l){var b=k("superagent"),d=k("once"),a=document.currentScript,c=!1,g=!1,e=function(a){if("function"===typeof mobFoxParams.onFail)mobFoxParams.onFail(a)},
m=function(){if("function"===typeof mobFoxParams.onSuccess)mobFoxParams.onSuccess()},p=function(a){var c=a.request.htmlString;(a=a.request.htmlString.match(new RegExp(/var markupB64\s*=\s*[\"\'](.*?)[\"\']/m)))&&(c=window.atob(a[1]));return c},u=function(c){try{var b=document.createElement("div");b.id="mobfoxDiv";a&&"head"!==a.parentNode.tagName.toLowerCase()?a.parentNode.appendChild(b):document.body.appendChild(b);b.style.border="none";b.style.width=mobFoxParams.adspace_width+"px";b.style.height=
mobFoxParams.adspace_height+"px";b.style.overflow="hidden";b.style.margin="0px";b.style.padding="0px";b.style.display="inline-block";var d=p(c);b.innerHTML=d;g=!0;m()}catch(h){g=!0,e({e1:h})}},v=function(b){try{var f=document.createElement("iframe");f.id="mobfoxFrame";a&&"head"!==a.parentNode.tagName.toLowerCase()?a.parentNode.appendChild(f):document.body.appendChild(f);f.frameborder="0";f.style.border="none";f.style.width=mobFoxParams.adspace_width+"px";f.style.height=mobFoxParams.adspace_height+
"px";f.style.overflow="hidden";f.style.margin="none";f.setAttribute("scrolling","no");var k=p(b),k=0>k.indexOf("<html>")?["<html><body style='margin:0px;padding:0px;'>",k,"</body></html>"].join("\n"):k+"<style>body{margin:0px;padding:0px}</style>";f.onload=d(function(){c||(g=!0,m())});var h=f.contentWindow||f.contentDocument.document||f.contentDocument;h.document.open();h.document.write(k);h.document.close()}catch(l){g=!0,e({e2:l})}};mobFoxParams.u=navigator.userAgent;mobFoxParams.r_resp="json";mobFoxParams.rt=
"api-fetchip";mobFoxParams.r_type="banner";var t="http://my.mobfox.com/request.php";try{1==mobFoxParams.imp_secure&&(t="https://my.mobfox.com/request.php")}catch(w){}d(function(){window.setTimeout(function(){c=!0;g||e("timeout")},3E3);b.get(t).timeout(2500).query(mobFoxParams).end(d(function(a,b){if(!c)try{var d=a||b.error||!b.body||b.body.error;if(d)return g=!0,e({e3:d});var f=b.body;document.body?mobFoxParams.noIFrame?u(f):v(f):document.addEventListener("DOMContentLoaded",function(){mobFoxParams.noIFrame?
u(f):v(f)})}catch(k){g=!0,e({e4:k})}}))})()},{once:2,superagent:3}]},{},[11]);

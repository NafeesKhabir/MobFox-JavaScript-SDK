(function e$$0(n,q,c){function h(b,k){if(!q[b]){if(!n[b]){var e="function"==typeof require&&require;if(!k&&e)return e(b,!0);if(f)return f(b,!0);e=Error("Cannot find module '"+b+"'");throw e.code="MODULE_NOT_FOUND",e;}e=q[b]={exports:{}};n[b][0].call(e.exports,function(e){var f=n[b][1][e];return h(f?f:e)},e,e.exports,e$$0,n,q,c)}return q[b].exports}for(var f="function"==typeof require&&require,b=0;b<c.length;b++)h(c[b]);return h})({1:[function(p,n,q){function c(h){if(h){for(var f in c.prototype)h[f]=
c.prototype[f];return h}}n.exports=c;c.prototype.on=c.prototype.addEventListener=function(h,f){this._callbacks=this._callbacks||{};(this._callbacks[h]=this._callbacks[h]||[]).push(f);return this};c.prototype.once=function(h,f){function b(){c.off(h,b);f.apply(this,arguments)}var c=this;this._callbacks=this._callbacks||{};b.fn=f;this.on(h,b);return this};c.prototype.off=c.prototype.removeListener=c.prototype.removeAllListeners=c.prototype.removeEventListener=function(h,f){this._callbacks=this._callbacks||
{};if(0==arguments.length)return this._callbacks={},this;var b=this._callbacks[h];if(!b)return this;if(1==arguments.length)return delete this._callbacks[h],this;for(var c,k=0;k<b.length;k++)if(c=b[k],c===f||c.fn===f){b.splice(k,1);break}return this};c.prototype.emit=function(c){this._callbacks=this._callbacks||{};var f=[].slice.call(arguments,1),b=this._callbacks[c];if(b)for(var b=b.slice(0),m=0,k=b.length;m<k;++m)b[m].apply(this,f);return this};c.prototype.listeners=function(c){this._callbacks=this._callbacks||
{};return this._callbacks[c]||[]};c.prototype.hasListeners=function(c){return!!this.listeners(c).length}},{}],2:[function(p,n,q){function c(c){var b=function(){if(b.called)return b.value;b.called=!0;return b.value=c.apply(this,arguments)};b.called=!1;return b}function h(c){var b=function(){if(b.called)throw Error(b.onceError);b.called=!0;return b.value=c.apply(this,arguments)};b.onceError=(c.name||"Function wrapped with `once`")+" shouldn't be called more than once";b.called=!1;return b}p=p("wrappy");
n.exports=p(c);n.exports.strict=p(h);c.proto=c(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return c(this)},configurable:!0});Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return h(this)},configurable:!0})})},{wrappy:5}],3:[function(p,n,q){n.exports=function(c,h,f){for(var b=0,m=c.length,k=3==arguments.length?f:c[b++];b<m;)k=h.call(null,k,c[b],++b,c);return k}},{}],4:[function(p,n,q){function c(){}function h(){if(!r.XMLHttpRequest||"file:"==
r.location.protocol&&r.ActiveXObject){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){}}else return new XMLHttpRequest;return!1}function f(a){if(a!==Object(a))return a;var d=[],g;for(g in a)null!=a[g]&&d.push(encodeURIComponent(g)+"="+encodeURIComponent(a[g]));return d.join("&")}function b(a){var d={};a=a.split("&");
for(var g,b=0,c=a.length;b<c;++b)g=a[b],g=g.split("="),d[decodeURIComponent(g[0])]=decodeURIComponent(g[1]);return d}function m(a){return u(a.split(/ *; */),function(a,g){var b=g.split(/ *= */),c=b.shift(),b=b.shift();c&&b&&(a[c]=b);return a},{})}function k(a,d){this.req=a;this.xhr=this.req.xhr;this.text="HEAD"!=this.req.method?this.xhr.responseText:null;this.setStatusProperties(this.xhr.status);var g=this.xhr.getAllResponseHeaders().split(/\r?\n/),b={},c,e,h;g.pop();for(var f=0,l=g.length;f<l;++f)e=
g[f],c=e.indexOf(":"),h=e.slice(0,c).toLowerCase(),c=v(e.slice(c+1)),b[h]=c;this.header=this.headers=b;this.header["content-type"]=this.xhr.getResponseHeader("content-type");this.setHeaderProperties(this.header);this.body="HEAD"!=this.req.method?this.parseBody(this.text):null}function e(a,d){var g=this;t.call(this);this._query=this._query||[];this.method=a;this.url=d;this.header={};this._header={};this.on("end",function(){var a=null,d=null;try{d=new k(g)}catch(b){a=Error("Parser is unable to parse the response"),
a.parse=!0,a.original=b}g.callback(a,d)})}function l(a,d){return"function"==typeof d?(new e("GET",a)).end(d):1==arguments.length?new e("GET",a):new e(a,d)}var t=p("emitter"),u=p("reduce"),r="undefined"==typeof window?this:window,v="".trim?function(a){return a.trim()}:function(a){return a.replace(/(^\s*|\s*$)/g,"")};l.serializeObject=f;l.parseString=b;l.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded",
"form-data":"application/x-www-form-urlencoded"};l.serialize={"application/x-www-form-urlencoded":f,"application/json":JSON.stringify};l.parse={"application/x-www-form-urlencoded":b,"application/json":JSON.parse};k.prototype.get=function(a){return this.header[a.toLowerCase()]};k.prototype.setHeaderProperties=function(a){a=this.header["content-type"]||"";this.type=a.split(/ *; */).shift();a=m(a);for(var d in a)this[d]=a[d]};k.prototype.parseBody=function(a){var d=l.parse[this.type];return d&&a&&a.length?
d(a):null};k.prototype.setStatusProperties=function(a){var d=a/100|0;this.status=a;this.statusType=d;this.info=1==d;this.ok=2==d;this.clientError=4==d;this.serverError=5==d;this.error=4==d||5==d?this.toError():!1;this.accepted=202==a;this.noContent=204==a||1223==a;this.badRequest=400==a;this.unauthorized=401==a;this.notAcceptable=406==a;this.notFound=404==a;this.forbidden=403==a};k.prototype.toError=function(){var a=this.req,d=a.method,a=a.url,g=Error("cannot "+d+" "+a+" ("+this.status+")");g.status=
this.status;g.method=d;g.url=a;return g};l.Response=k;t(e.prototype);e.prototype.use=function(a){a(this);return this};e.prototype.timeout=function(a){this._timeout=a;return this};e.prototype.clearTimeout=function(){this._timeout=0;clearTimeout(this._timer);return this};e.prototype.abort=function(){if(!this.aborted)return this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this};e.prototype.set=function(a,d){if(a===Object(a)){for(var g in a)this.set(g,a[g]);return this}this._header[a.toLowerCase()]=
d;this.header[a]=d;return this};e.prototype.unset=function(a){delete this._header[a.toLowerCase()];delete this.header[a];return this};e.prototype.getHeader=function(a){return this._header[a.toLowerCase()]};e.prototype.type=function(a){this.set("Content-Type",l.types[a]||a);return this};e.prototype.accept=function(a){this.set("Accept",l.types[a]||a);return this};e.prototype.auth=function(a,d){var g=btoa(a+":"+d);this.set("Authorization","Basic "+g);return this};e.prototype.query=function(a){"string"!=
typeof a&&(a=f(a));a&&this._query.push(a);return this};e.prototype.field=function(a,d){this._formData||(this._formData=new FormData);this._formData.append(a,d);return this};e.prototype.attach=function(a,d,g){this._formData||(this._formData=new FormData);this._formData.append(a,d,g);return this};e.prototype.send=function(a){var d=a===Object(a),g=this.getHeader("Content-Type"),b;if(b=d)b=this._data,b=b===Object(b);if(b)for(var c in a)this._data[c]=a[c];else"string"==typeof a?(g||this.type("form"),g=
this.getHeader("Content-Type"),this._data="application/x-www-form-urlencoded"==g?this._data?this._data+"&"+a:a:(this._data||"")+a):this._data=a;if(!d)return this;g||this.type("json");return this};e.prototype.callback=function(a,d){var b=this._callback;this.clearTimeout();if(2==b.length)return b(a,d);if(a)return this.emit("error",a);b(d)};e.prototype.crossDomainError=function(){var a=Error("Origin is not allowed by Access-Control-Allow-Origin");a.crossDomain=!0;this.callback(a)};e.prototype.timeoutError=
function(){var a=this._timeout,d=Error("timeout of "+a+"ms exceeded");d.timeout=a;this.callback(d)};e.prototype.withCredentials=function(){this._withCredentials=!0;return this};e.prototype.end=function(a){var d=this,b=this.xhr=h(),e=this._query.join("&"),f=this._timeout,k=this._formData||this._data;this._callback=a||c;b.onreadystatechange=function(){if(4==b.readyState){if(0==b.status)return d.aborted?d.timeoutError():d.crossDomainError();d.emit("end")}};b.upload&&(b.upload.onprogress=function(a){a.percent=
a.loaded/a.total*100;d.emit("progress",a)});f&&!this._timer&&(this._timer=setTimeout(function(){d.abort()},f));e&&(e=l.serializeObject(e),this.url+=~this.url.indexOf("?")?"&"+e:"?"+e);b.open(this.method,this.url,!0);this._withCredentials&&(b.withCredentials=!0);if(a="GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof k){a:switch({}.toString.call(k)){case "[object File]":case "[object Blob]":case "[object FormData]":a=!0;break a;default:a=!1}a=!a}a&&(a=l.serialize[this.getHeader("Content-Type")])&&
(k=a(k));for(var m in this.header)null!=this.header[m]&&b.setRequestHeader(m,this.header[m]);this.emit("request",this);b.send(k);return this};l.Request=e;l.get=function(a,d,b){a=l("GET",a);"function"==typeof d&&(b=d,d=null);d&&a.query(d);b&&a.end(b);return a};l.head=function(a,d,b){a=l("HEAD",a);"function"==typeof d&&(b=d,d=null);d&&a.send(d);b&&a.end(b);return a};l.del=function(a,d){var b=l("DELETE",a);d&&b.end(d);return b};l.patch=function(a,b,c){a=l("PATCH",a);"function"==typeof b&&(c=b,b=null);
b&&a.send(b);c&&a.end(c);return a};l.post=function(a,b,c){a=l("POST",a);"function"==typeof b&&(c=b,b=null);b&&a.send(b);c&&a.end(c);return a};l.put=function(a,b,c){a=l("PUT",a);"function"==typeof b&&(c=b,b=null);b&&a.send(b);c&&a.end(c);return a};n.exports=l},{emitter:1,reduce:3}],5:[function(p,n,q){function c(h,f){function b(){for(var b=Array(arguments.length),c=0;c<b.length;c++)b[c]=arguments[c];var e=h.apply(this,b),f=b[b.length-1];"function"===typeof e&&e!==f&&Object.keys(f).forEach(function(b){e[b]=
f[b]});return e}if(h&&f)return c(h)(f);if("function"!==typeof h)throw new TypeError("need wrapper function");Object.keys(h).forEach(function(c){b[c]=h[c]});return b}n.exports=c},{}],6:[function(p,n,q){var c=p("superagent"),h=p("once"),f=document.currentScript,b=!1,m=!1,k=function(){if("function"===typeof mobFoxParams.onFail)mobFoxParams.onFail()},e=function(){if("function"===typeof mobFoxParams.onSuccess)mobFoxParams.onSuccess()},l=function(b){var a=b.request.htmlString;(b=b.request.htmlString.match(new RegExp(/var markupB64\s*=\s*[\"\'](.*?)[\"\']/m)))&&
(a=window.atob(b[1]));return a},t=function(b){try{var a=document.createElement("div");a.id="mobfoxDiv";f&&"head"!==f.parentNode.tagName.toLowerCase()?f.parentNode.appendChild(a):document.body.appendChild(a);a.style.border="none";a.style.width=mobFoxParams.adspace_width+"px";a.style.height=mobFoxParams.adspace_height+"px";a.style.overflow="hidden";a.style.margin="0px";a.style.padding="0px";a.style.display="inline-block";var c=l(b);a.innerHTML=c;m=!0;e()}catch(g){console.log(g),m=!0,k()}},u=function(c){try{var a=
document.createElement("iframe");a.id="mobfoxFrame";f&&"head"!==f.parentNode.tagName.toLowerCase()?f.parentNode.appendChild(a):document.body.appendChild(a);a.frameborder="0";a.style.border="none";a.style.width=mobFoxParams.adspace_width+"px";a.style.height=mobFoxParams.adspace_height+"px";a.style.overflow="hidden";a.style.margin="none";a.setAttribute("scrolling","no");var d=l(c),d=0>d.indexOf("<html>")?["<html><body style='margin:0px;padding:0px;'>",d,"</body></html>"].join("\n"):d+"<style>body{margin:0px;padding:0px}</style>";
a.onload=h(function(){b||(m=!0,e())});var g=a.contentWindow||a.contentDocument.document||a.contentDocument;g.document.open();g.document.write(d);g.document.close()}catch(n){m=!0,k()}};mobFoxParams.u=navigator.userAgent;mobFoxParams.r_resp="json";mobFoxParams.rt="api-fetchip";mobFoxParams.r_type="banner";var r="http://my.mobfox.com/request.php";try{1==mobFoxParams.imp_secure&&(r="https://my.mobfox.com/request.php")}catch(v){}h(function(){window.setTimeout(function(){b=!0;m||k()},3E3);c.get(r).timeout(2500).query(mobFoxParams).end(h(function(c,
a){if(!b)try{if(c||a.error||!a.body||a.body.error)return m=!0,k();var d=a.body;document.body?mobFoxParams.noIFrame?t(d):u(d):document.addEventListener("DOMContentLoaded",function(){mobFoxParams.noIFrame?t(d):u(d)})}catch(e){m=!0,k()}}))})()},{once:2,superagent:4}]},{},[6]);

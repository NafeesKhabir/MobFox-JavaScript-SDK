(function e$$0(l,h,b){function e(c,f){if(!h[c]){if(!l[c]){var p="function"==typeof require&&require;if(!f&&p)return p(c,!0);if(a)return a(c,!0);p=Error("Cannot find module '"+c+"'");throw p.code="MODULE_NOT_FOUND",p;}p=h[c]={exports:{}};l[c][0].call(p.exports,function(a){var b=l[c][1][a];return e(b?b:a)},p,p.exports,e$$0,l,h,b)}return h[c].exports}for(var a="function"==typeof require&&require,c=0;c<b.length;c++)e(b[c]);return e})({1:[function(m,l,h){function b(e){if(e){for(var a in b.prototype)e[a]=
b.prototype[a];return e}}"undefined"!==typeof l&&(l.exports=b);b.prototype.on=b.prototype.addEventListener=function(b,a){this._callbacks=this._callbacks||{};(this._callbacks["$"+b]=this._callbacks["$"+b]||[]).push(a);return this};b.prototype.once=function(b,a){function c(){this.off(b,c);a.apply(this,arguments)}c.fn=a;this.on(b,c);return this};b.prototype.off=b.prototype.removeListener=b.prototype.removeAllListeners=b.prototype.removeEventListener=function(b,a){this._callbacks=this._callbacks||{};
if(0==arguments.length)return this._callbacks={},this;var c=this._callbacks["$"+b];if(!c)return this;if(1==arguments.length)return delete this._callbacks["$"+b],this;for(var d,f=0;f<c.length;f++)if(d=c[f],d===a||d.fn===a){c.splice(f,1);break}return this};b.prototype.emit=function(b){this._callbacks=this._callbacks||{};var a=[].slice.call(arguments,1),c=this._callbacks["$"+b];if(c)for(var c=c.slice(0),d=0,f=c.length;d<f;++d)c[d].apply(this,a);return this};b.prototype.listeners=function(b){this._callbacks=
this._callbacks||{};return this._callbacks["$"+b]||[]};b.prototype.hasListeners=function(b){return!!this.listeners(b).length}},{}],2:[function(m,l,h){function b(a){var c=function(){if(c.called)return c.value;c.called=!0;return c.value=a.apply(this,arguments)};c.called=!1;return c}function e(a){var c=function(){if(c.called)throw Error(c.onceError);c.called=!0;return c.value=a.apply(this,arguments)};c.onceError=(a.name||"Function wrapped with `once`")+" shouldn't be called more than once";c.called=
!1;return c}m=m("wrappy");l.exports=m(b);l.exports.strict=m(e);b.proto=b(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return b(this)},configurable:!0});Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return e(this)},configurable:!0})})},{wrappy:10}],3:[function(m,l,h){function b(){}function e(n){if(!r(n))return n;var c=[],b;for(b in n)a(c,b,n[b]);return c.join("&")}function a(n,c,b){if(null!=b)if(Array.isArray(b))b.forEach(function(b){a(n,c,
b)});else if(r(b))for(var d in b)a(n,c+"["+d+"]",b[d]);else n.push(encodeURIComponent(c)+"="+encodeURIComponent(b));else null===b&&n.push(encodeURIComponent(c))}function c(a){var c={};a=a.split("&");for(var b,d,f=0,e=a.length;f<e;++f)b=a[f],d=b.indexOf("="),-1==d?c[decodeURIComponent(b)]="":c[decodeURIComponent(b.slice(0,d))]=decodeURIComponent(b.slice(d+1));return c}function d(a){this.req=a;this.xhr=this.req.xhr;this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||
"undefined"===typeof this.xhr.responseType?this.xhr.responseText:null;this.statusText=this.req.xhr.statusText;var b=this.xhr.status;1223===b&&(b=204);this._setStatusProperties(b);var b=this.xhr.getAllResponseHeaders().split(/\r?\n/),c={},d,f,e;b.pop();for(var g=0,h=b.length;g<h;++g)f=b[g],d=f.indexOf(":"),e=f.slice(0,d).toLowerCase(),d=u(f.slice(d+1)),c[e]=d;this.header=this.headers=c;this.header["content-type"]=this.xhr.getResponseHeader("content-type");this._setHeaderProperties(this.header);this.body=
null===this.text&&a._responseType?this.xhr.response:"HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function f(a,b){var c=this;this._query=this._query||[];this.method=a;this.url=b;this.header={};this._header={};this.on("end",function(){var a=null,b=null;try{b=new d(c)}catch(n){return a=Error("Parser is unable to parse the response"),a.parse=!0,a.original=n,c.xhr?(a.rawResponse="undefined"==typeof c.xhr.responseType?c.xhr.responseText:c.xhr.response,a.status=c.xhr.status?
c.xhr.status:null,a.statusCode=a.status):(a.rawResponse=null,a.status=null),c.callback(a)}c.emit("response",b);var q;try{c._isResponseOK(b)||(q=Error(b.statusText||"Unsuccessful HTTP response"),q.original=a,q.response=b,q.status=b.status)}catch(n){q=n}q?c.callback(q,b):c.callback(null,b)})}function p(a,b,c){a=k("DELETE",a);"function"==typeof b&&(c=b,b=null);b&&a.send(b);c&&a.end(c);return a}var g;"undefined"!==typeof window?g=window:"undefined"!==typeof self?g=self:(console.warn("Using browser-only version of superagent in non-browser environment"),
g=this);var t=m("component-emitter"),v=m("./request-base"),r=m("./is-object"),w=m("./is-function"),x=m("./response-base"),y=m("./should-retry"),k=h=l.exports=function(a,b){return"function"==typeof b?(new h.Request("GET",a)).end(b):1==arguments.length?new h.Request("GET",a):new h.Request(a,b)};h.Request=f;k.getXHR=function(){if(!g.XMLHttpRequest||g.location&&"file:"==g.location.protocol&&g.ActiveXObject){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){}}else return new XMLHttpRequest;
throw Error("Browser-only verison of superagent could not find XHR");};var u="".trim?function(a){return a.trim()}:function(a){return a.replace(/(^\s*|\s*$)/g,"")};k.serializeObject=e;k.parseString=c;k.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"};k.serialize={"application/x-www-form-urlencoded":e,"application/json":JSON.stringify};k.parse=
{"application/x-www-form-urlencoded":c,"application/json":JSON.parse};x(d.prototype);d.prototype._parseBody=function(a){var b=k.parse[this.type];if(this.req._parser)return this.req._parser(this,a);!b&&/[\/+]json\b/.test(this.type)&&(b=k.parse["application/json"]);return b&&a&&(a.length||a instanceof Object)?b(a):null};d.prototype.toError=function(){var a=this.req,b=a.method,a=a.url,c=Error("cannot "+b+" "+a+" ("+this.status+")");c.status=this.status;c.method=b;c.url=a;return c};k.Response=d;t(f.prototype);
v(f.prototype);f.prototype.type=function(a){this.set("Content-Type",k.types[a]||a);return this};f.prototype.accept=function(a){this.set("Accept",k.types[a]||a);return this};f.prototype.auth=function(a,b,c){"object"===typeof b&&null!==b&&(c=b);c||(c={type:"function"===typeof btoa?"basic":"auto"});switch(c.type){case "basic":this.set("Authorization","Basic "+btoa(a+":"+b));break;case "auto":this.username=a;this.password=b;break;case "bearer":this.set("Authorization","Bearer "+a)}return this};f.prototype.query=
function(a){"string"!=typeof a&&(a=e(a));a&&this._query.push(a);return this};f.prototype.attach=function(a,b,c){if(b){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(a,b,c||b.name)}return this};f.prototype._getFormData=function(){this._formData||(this._formData=new g.FormData);return this._formData};f.prototype.callback=function(a,b){if(this._maxRetries&&this._retries++<this._maxRetries&&y(a,b))return this._retry();var c=this._callback;this.clearTimeout();
a&&(this._maxRetries&&(a.retries=this._retries-1),this.emit("error",a));c(a,b)};f.prototype.crossDomainError=function(){var a=Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");a.crossDomain=!0;a.status=this.status;a.method=this.method;a.url=this.url;this.callback(a)};f.prototype.buffer=f.prototype.ca=f.prototype.agent=function(){console.warn("This is not supported in browser version of superagent");
return this};f.prototype.pipe=f.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent");};f.prototype._appendQueryString=function(){var a=this._query.join("&");a&&(this.url+=(0<=this.url.indexOf("?")?"&":"?")+a);if(this._sort&&(a=this.url.indexOf("?"),0<=a)){var b=this.url.substring(a+1).split("&");w(this._sort)?b.sort(this._sort):b.sort();this.url=this.url.substring(0,a)+"?"+b.join("&")}};f.prototype._isHost=function(a){return a&&"object"===typeof a&&
!Array.isArray(a)&&"[object Object]"!==Object.prototype.toString.call(a)};f.prototype.end=function(a){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent");this._endCalled=!0;this._callback=a||b;this._appendQueryString();return this._end()};f.prototype._end=function(){var a=this,b=this.xhr=k.getXHR(),c=this._formData||this._data;this._setTimeouts();b.onreadystatechange=function(){var c=b.readyState;2<=c&&a._responseTimeoutTimer&&clearTimeout(a._responseTimeoutTimer);
if(4==c){var d;try{d=b.status}catch(f){d=0}if(!d)return a.timedout||a._aborted?void 0:a.crossDomainError();a.emit("end")}};var d=function(b,c){0<c.total&&(c.percent=c.loaded/c.total*100);c.direction=b;a.emit("progress",c)};if(this.hasListeners("progress"))try{b.onprogress=d.bind(null,"download"),b.upload&&(b.upload.onprogress=d.bind(null,"upload"))}catch(f){}try{this.username&&this.password?b.open(this.method,this.url,!0,this.username,this.password):b.open(this.method,this.url,!0)}catch(f){return this.callback(f)}this._withCredentials&&
(b.withCredentials=!0);if(!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof c&&!this._isHost(c)){var d=this._header["content-type"],e=this._serializer||k.serialize[d?d.split(";")[0]:""];!e&&/[\/+]json\b/.test(d)&&(e=k.serialize["application/json"]);e&&(c=e(c))}for(var g in this.header)null!=this.header[g]&&this.header.hasOwnProperty(g)&&b.setRequestHeader(g,this.header[g]);this._responseType&&(b.responseType=this._responseType);this.emit("request",this);b.send("undefined"!==
typeof c?c:null);return this};k.get=function(a,b,c){a=k("GET",a);"function"==typeof b&&(c=b,b=null);b&&a.query(b);c&&a.end(c);return a};k.head=function(a,b,c){a=k("HEAD",a);"function"==typeof b&&(c=b,b=null);b&&a.send(b);c&&a.end(c);return a};k.options=function(a,b,c){a=k("OPTIONS",a);"function"==typeof b&&(c=b,b=null);b&&a.send(b);c&&a.end(c);return a};k.del=p;k["delete"]=p;k.patch=function(a,b,c){a=k("PATCH",a);"function"==typeof b&&(c=b,b=null);b&&a.send(b);c&&a.end(c);return a};k.post=function(a,
b,c){a=k("POST",a);"function"==typeof b&&(c=b,b=null);b&&a.send(b);c&&a.end(c);return a};k.put=function(a,b,c){a=k("PUT",a);"function"==typeof b&&(c=b,b=null);b&&a.send(b);c&&a.end(c);return a}},{"./is-function":4,"./is-object":5,"./request-base":6,"./response-base":7,"./should-retry":8,"component-emitter":1}],4:[function(m,l,h){var b=m("./is-object");l.exports=function(e){return"[object Function]"===(b(e)?Object.prototype.toString.call(e):"")}},{"./is-object":5}],5:[function(m,l,h){l.exports=function(b){return null!==
b&&"object"===typeof b}},{}],6:[function(m,l,h){function b(a){if(a){for(var c in b.prototype)a[c]=b.prototype[c];return a}}var e=m("./is-object");l.exports=b;b.prototype.clearTimeout=function(){clearTimeout(this._timer);clearTimeout(this._responseTimeoutTimer);delete this._timer;delete this._responseTimeoutTimer;return this};b.prototype.parse=function(a){this._parser=a;return this};b.prototype.responseType=function(a){this._responseType=a;return this};b.prototype.serialize=function(a){this._serializer=
a;return this};b.prototype.timeout=function(a){if(!a||"object"!==typeof a)return this._timeout=a,this._responseTimeout=0,this;for(var b in a)switch(b){case "deadline":this._timeout=a.deadline;break;case "response":this._responseTimeout=a.response;break;default:console.warn("Unknown timeout option",b)}return this};b.prototype.retry=function(a){if(0===arguments.length||!0===a)a=1;0>=a&&(a=0);this._maxRetries=a;this._retries=0;return this};b.prototype._retry=function(){this.clearTimeout();this.req&&
(this.req=null,this.req=this.request());this.timedout=this._aborted=!1;return this._end()};b.prototype.then=function(a,b){if(!this._fullfilledPromise){var d=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises");this._fullfilledPromise=new Promise(function(a,b){d.end(function(c,d){c?b(c):a(d)})})}return this._fullfilledPromise.then(a,b)};b.prototype.catch=function(a){return this.then(void 0,
a)};b.prototype.use=function(a){a(this);return this};b.prototype.ok=function(a){if("function"!==typeof a)throw Error("Callback required");this._okCallback=a;return this};b.prototype._isResponseOK=function(a){return a?this._okCallback?this._okCallback(a):200<=a.status&&300>a.status:!1};b.prototype.get=function(a){return this._header[a.toLowerCase()]};b.prototype.getHeader=b.prototype.get;b.prototype.set=function(a,b){if(e(a)){for(var d in a)this.set(d,a[d]);return this}this._header[a.toLowerCase()]=
b;this.header[a]=b;return this};b.prototype.unset=function(a){delete this._header[a.toLowerCase()];delete this.header[a];return this};b.prototype.field=function(a,b){if(null===a||void 0===a)throw Error(".field(name, val) name can not be empty");this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(e(a)){for(var d in a)this.field(d,a[d]);return this}if(Array.isArray(b)){for(var f in b)this.field(a,b[f]);return this}if(null===
b||void 0===b)throw Error(".field(name, val) val can not be empty");"boolean"===typeof b&&(b=""+b);this._getFormData().append(a,b);return this};b.prototype.abort=function(){if(this._aborted)return this;this._aborted=!0;this.xhr&&this.xhr.abort();this.req&&this.req.abort();this.clearTimeout();this.emit("abort");return this};b.prototype.withCredentials=function(a){void 0==a&&(a=!0);this._withCredentials=a;return this};b.prototype.redirects=function(a){this._maxRedirects=a;return this};b.prototype.toJSON=
function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}};b.prototype.send=function(a){var b=e(a),d=this._header["content-type"];this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(b&&!this._data)Array.isArray(a)?this._data=[]:this._isHost(a)||(this._data={});else if(a&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(b&&e(this._data))for(var f in a)this._data[f]=
a[f];else"string"==typeof a?(d||this.type("form"),d=this._header["content-type"],this._data="application/x-www-form-urlencoded"==d?this._data?this._data+"&"+a:a:(this._data||"")+a):this._data=a;if(!b||this._isHost(a))return this;d||this.type("json");return this};b.prototype.sortQuery=function(a){this._sort="undefined"===typeof a?!0:a;return this};b.prototype._timeoutError=function(a,b,d){this._aborted||(a=Error(a+b+"ms exceeded"),a.timeout=b,a.code="ECONNABORTED",a.errno=d,this.timedout=!0,this.abort(),
this.callback(a))};b.prototype._setTimeouts=function(){var a=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){a._timeoutError("Timeout of ",a._timeout,"ETIME")},this._timeout));this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){a._timeoutError("Response timeout of ",a._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},{"./is-object":5}],7:[function(m,l,h){function b(a){if(a){for(var c in b.prototype)a[c]=b.prototype[c];return a}}
var e=m("./utils");l.exports=b;b.prototype.get=function(a){return this.header[a.toLowerCase()]};b.prototype._setHeaderProperties=function(a){var b=a["content-type"]||"";this.type=e.type(b);var b=e.params(b),d;for(d in b)this[d]=b[d];this.links={};try{a.link&&(this.links=e.parseLinks(a.link))}catch(f){}};b.prototype._setStatusProperties=function(a){var b=a/100|0;this.status=this.statusCode=a;this.statusType=b;this.info=1==b;this.ok=2==b;this.redirect=3==b;this.clientError=4==b;this.serverError=5==
b;this.error=4==b||5==b?this.toError():!1;this.accepted=202==a;this.noContent=204==a;this.badRequest=400==a;this.unauthorized=401==a;this.notAcceptable=406==a;this.forbidden=403==a;this.notFound=404==a}},{"./utils":9}],8:[function(m,l,h){var b=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];l.exports=function(e,a){return e&&e.code&&~b.indexOf(e.code)||a&&a.status&&500<=a.status||e&&"timeout"in e&&"ECONNABORTED"==e.code||e&&"crossDomain"in e?!0:!1}},{}],9:[function(m,l,h){h.type=function(b){return b.split(/ *; */).shift()};
h.params=function(b){return b.split(/ *; */).reduce(function(b,a){var c=a.split(/ *= */),d=c.shift(),c=c.shift();d&&c&&(b[d]=c);return b},{})};h.parseLinks=function(b){return b.split(/ *, */).reduce(function(b,a){var c=a.split(/ *; */),d=c[0].slice(1,-1),c=c[1].split(/ *= */)[1].slice(1,-1);b[c]=d;return b},{})};h.cleanHeader=function(b,e){delete b["content-type"];delete b["content-length"];delete b["transfer-encoding"];delete b.host;e&&delete b.cookie;return b}},{}],10:[function(m,l,h){function b(e,
a){function c(){for(var a=Array(arguments.length),b=0;b<a.length;b++)a[b]=arguments[b];var c=e.apply(this,a),g=a[a.length-1];"function"===typeof c&&c!==g&&Object.keys(g).forEach(function(a){c[a]=g[a]});return c}if(e&&a)return b(e)(a);if("function"!==typeof e)throw new TypeError("need wrapper function");Object.keys(e).forEach(function(a){c[a]=e[a]});return c}l.exports=b},{}],11:[function(m,l,h){l=m("superagent");m=m("once");h={"300x50":{width:300,height:50},"320x50":{width:320,height:50},"300x250":{width:300,
height:250},"320x480":{width:320,height:480},"480x320":{width:480,height:320},"728x90":{width:728,height:90},"90x728":{width:90,height:728},"600x1024":{width:600,height:1024},"1024x600":{width:1024,height:600},"768x1024":{width:768,height:1024},"1024x768":{width:1024,height:768}};var b=function(a,b){var f=a.width-b.width,e=a.height-b.height;return Math.sqrt(f*f+e*e)},e=function(a,d){var f=-1,e={};for(key in a){var g=a[key];-1==f?(f=b(g,d),e=g):b(g,d)<f&&g.width<=d.width&&g.height<=d.height&&(f=b(g,
d),e=g)}return e};mobFoxParams.u=navigator.userAgent;mobFoxParams.r_resp="json";mobFoxParams.rt="api-fetchip";mobFoxParams.r_type="banner";mobFoxParams.smart&&(mobFoxParams.adspace_width=window.innerWidth,mobFoxParams.adspace_height=window.innerHeight,h=e(h,{width:mobFoxParams.adspace_width,height:mobFoxParams.adspace_height}),1.5>mobFoxParams.adspace_width/h.width&&1.5>mobFoxParams.adspace_height/h.height&&(mobFoxParams.adspace_width=h.width,mobFoxParams.adspace_height=h.height));"function"===typeof window.mopubFinishLoad&&
(window.mopubFinishLoad=null);if("function"===typeof window.trackImpressionHelper){var a=window.trackImpressionHelper;window.trackImpressionHelper=null}window.htmlWillCallFinishLoad=!0;l.get("http://my.mobfox.com/request.php").timeout(3E3).query(mobFoxParams).end(m(function(b,d){if(b||d.error||!d.body||d.body.error)loaded=!0,window.location="mopub://failLoad";else{var e=d.body,h=e.request.htmlString,g=document.createElement("iframe");g.id="mobfoxFrame";document.body.appendChild(g);document.body.style.display=
"flex";document.body.style.alignItems="center";document.body.style.justifyContent="center";g.frameborder="0";g.style.border="none";g.style.width=mobFoxParams.adspace_width+"px";g.style.height=mobFoxParams.adspace_height+"px";g.style.backgroundColor="#000000";g.style.overflow="hidden";g.style.overflow="hidden";g.style.margin="none";g.style.scrolling="no";(e=e.request.htmlString.match(new RegExp(/var markupB64\s*=\s*[\"\'](.*?)[\"\']/m)))&&(h=window.atob(e[1])+"<style>body{margin:0;}</style>");g.onload=
function(){setTimeout(function(){window.location="mopub://finishLoad"},0);"function"===typeof a&&a()};g=g.contentWindow||g.contentDocument.document||g.contentDocument;g.document.open();g.document.write(h);g.document.close()}}))},{once:2,superagent:3}]},{},[11]);
